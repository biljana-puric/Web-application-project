<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>
<body>
    <div class="container-fluid">
        <div class="wrapper">
            <main>
                <header class="header"></header>
                <br/>
                <nav class="navbar navbar-expand-lg navbar-transparent">
                    <button (click)="searchEnable()" class="btn btn-outline-success" type="submit">Search</button>
                    <button (click)="logEnable()" class="btn btn-outline-success" type="submit">Log in</button>
                </nav>
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 col-md-6 col-lg-6 p-3" *ngIf="logEnabled && !search">
                            <form>
                                <table>
                                    <tr>
                                        <td>Username: </td>
                                        <td><input class="form-control" type="text" name="username" [(ngModel)]="username" placeholder="Enter your username" class="log"></td>
                                    </tr>
                                    <tr>
                                        <td>Password: </td>
                                        <td><input class="form-control" type="password" name="password" [(ngModel)]="password" placeholder="Enter your password" class="log"></td>
                                    </tr>
                                    <tr>
                                    <td colspan="2">
                                            <button class="btn btn-outline-success my_button" type="submit" (click)="login()">Login</button>
                                    </td> 
                                    </tr>
                                    <div class="error">{{message}}</div>
                                </table>
                                <div class="register-text text-trancate">Don't have an account? &nbsp; <a routerLink="/register" > Register </a>&nbsp; now! </div>
                            </form>
                        </div>
                        <form *ngIf="search && !logEnabled" class="col-sm-12 col-md-6 col-lg-6">
                            <table>
                                <tr>
                                    <td><input type="search" class="form-control me-2" name="Aname" [(ngModel)]="searchParamName" placeholder="Enter name of agency"></td>
                                </tr>
                                <tr><td><input type="search" class="form-control me-2" name="Aaddress" [(ngModel)]="searchParamAddress" placeholder="Enter address of agency"></td></tr>
                                <tr><td><button (click)="searchAgency()" class="btn btn-outline-success my_button searchButtons">Search agency</button></td></tr>
                                <tr><td><button (click)="sortAgenciesAsc()" class="searchButtons my_button">Sort agencies A-Z</button></td></tr>
                                <tr><td><button (click)="sortAgenciesDesc()" class="searchButtons my_button">Sort agencies Z-A</button></td></tr>
                            </table>
                        </form>
                        
                    </div>
                    
                    
                    
                </div>

                <!-- <div class="container"><div class="register-helper"></div>
                <div class="register-helper"><p class="register-text text-trancate">Don't have an account? &nbsp; <a routerLink="/register" > Register </a>&nbsp; now! </p></div></div> -->
                <div  *ngIf="searching">
                <table>
                    <tr class="trow" colspan="2">
                        <th>
                            Logo:
                        </th>
                        <th>
                            Agency: 
                        </th>
                        <th>
                            Description: 
                        </th>
                    </tr>
                    <tr *ngFor = "let a of searchedAgency" class="trow">
                        <td>
                            <img [src]="a.image" alt="Profile image">
                        </td>
                        <td>
                            <div (click)="call_agency(a.username, a.name_of_agency)">
                                {{a.name_of_agency}}
                            </div>
                        </td>
                        <td>
                            <div (click)="call_agency(a.username, a.name_of_agency)">
                                {{a.description}}
                            </div>
                        </td>
                    </tr>
                </table>
                </div>
                <br/>
                <h2>All Agencies:</h2>
                <table>
                    <tr class="trow">
                        <th>
                            Logo:
                        </th>
                        <th>
                            Agency: 
                        </th>
                        <th>
                            Description: 
                        </th>
                    </tr>
                    <tr *ngFor = "let a of allAgencies" class="trow">
                        <td>
                            <img [src]="a.image" alt="Profile image">
                        </td>
                        <td>
                            <div (click)="call_agency(a.username, a.name_of_agency)">
                                {{a.name_of_agency}}
                            </div>
                        </td>
                        <td>
                            <div (click)="call_agency(a.username, a.name_of_agency)">
                                {{a.description}}
                            </div>
                        </td>
                    </tr>
                </table>
                
            </main>
            <footer class="footer"> Contact: @biljana.puric01@gmail.com </footer>
        </div>
    </div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

</body>