<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" 
integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>
<body><div class="wrapper"><main><header class="header"></header>
<br/>

    <nav class="navbar navbar-expand-lg navbar-transparent">
        <button class="btn btn-outline-success " (click)="search()">Search</button>
        <button class="btn btn-outline-success" (click)="logout()">Log Out</button>&nbsp;
        <button (click)="back()" class="back btn btn-outline-success">Back</button>&nbsp;
        <a routerLink="/changePassword"><button class="back btn btn-outline-success">Change password</button></a>&nbsp;
    </nav>

<div class="container-fluid">
<br/>
<table>
    <tr>
        <td><a routerLink="/profile">Profile</a></td>
        <td><a routerLink="/objects">Objects</a></td>
        <td><a routerLink="/agenciesMenu">Agencies</a></td>
        <td><a routerLink="/jobs">Jobs</a></td>
    </tr>
    
</table>
<form *ngIf="searchMe">
    <table class="table">
        <tr class="row">
            <td class="col"><input type="search" class="form-control me-2" name="Aname" [(ngModel)]="searchParamName" placeholder="Enter name of agency"></td>
        </tr>
        <tr class="row"><td class="col"><input type="search" class="form-control me-2" name="Aaddress" [(ngModel)]="searchParamAddress" placeholder="Enter address of agency"></td></tr>
        <tr class="row"><td class="col"><button (click)="searchAgency()" class="btn btn-outline-success my_button searchButtons">Search agency</button></td></tr>
        <tr class="row"><td class="col"><button (click)="sortAgenciesAsc()" class="searchButtons my_button">Sort agencies A-Z</button></td></tr>
        <tr class="row"><td class="col"><button (click)="sortAgenciesDesc()" class="searchButtons my_button">Sort agencies Z-A</button></td></tr>
    </table>
</form>
<br/>
<br/>

<table *ngIf="searching" class="table tabela">
    <tr class="row">
        <th class="col">
            Agency: 
        </th>
        <th class="col">
            Description: 
        </th>
    </tr>
    <tr class="row" *ngIf="searchedAgency.length==0" colspan="2"><h2>No result</h2></tr>
    <tr class="row" *ngFor = "let a of searchedAgency" class="trow">
        <td class="col">
            <div (click)="call_agency(a.username, a.name_of_agency)">
                {{a.name_of_agency}}
            </div>
        </td>
        <td class="col">
            <div (click)="call_agency(a.username, a.name_of_agency)">
                {{a.description}}
            </div>
        </td>
        <td class="col"><button (click)="requestJob(a.username)" class="my_button">Request job</button></td>
    </tr>
</table>

<br/>


<h2>All Agencies:</h2>
<table class="table">
    <tr class="row">
        <th class="col">
            Agency: 
        </th>
        <th class="col">
            Description: 
        </th>
        <th class="col"></th>
    </tr>
    <tr class="row" *ngFor = "let a of allAgencies">
        <td class="col">
            <div (click)="call_agency(a.username, a.name_of_agency)">
                {{a.name_of_agency}}
            </div>
        </td>
        <td class="col">
            <div (click)="call_agency(a.username, a.name_of_agency)">
                {{a.description}}
            </div>
        </td>
        <td class="col"><button (click)="requestJob(a.username)" class="my_button">Request job</button></td>
    </tr>
</table>

</div>
</main><footer class="footer"> Contact: @biljana.puric01@gmail.com </footer></div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>